{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../contexts/AuthContext';import{cancelAppointment}from'../../api/clients/appointmentApi';import apiClient from'../../api/clients/apiClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";/**\n * AppointmentList component for displaying user's appointments with cancel functionality\n * \n * @param className - Additional CSS classes\n * @param showOnlyUpcoming - Whether to show only upcoming appointments (default: false)\n */export const AppointmentList=_ref=>{let{className='',showOnlyUpcoming=false}=_ref;const{authState}=useAuth();const[appointments,setAppointments]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[cancellingId,setCancellingId]=useState(null);/**\n   * Fetch appointments from the API\n   */const fetchAppointments=async()=>{try{setLoading(true);setError(null);const endpoint=showOnlyUpcoming?'/appointments/upcoming':'/appointments/patient';const response=await apiClient.get(endpoint);setAppointments(response.appointments||[]);}catch(err){var _err$response;const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.message)||err.message||'Failed to fetch appointments';setError(errorMessage);console.error('Error fetching appointments:',err);}finally{setLoading(false);}};/**\n   * Handle appointment cancellation\n   */const handleCancelAppointment=async(appointmentId,reason)=>{try{setCancellingId(appointmentId);await cancelAppointment(appointmentId,reason);// Remove the cancelled appointment from the list or refetch\nawait fetchAppointments();}catch(err){const errorMessage=err.message||'Failed to cancel appointment';setError(errorMessage);console.error('Error cancelling appointment:',err);}finally{setCancellingId(null);}};/**\n   * Format date for display\n   */const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};/**\n   * Format time for display\n   */const formatTime=dateString=>{const date=new Date(dateString);return date.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true});};/**\n   * Get status badge color\n   */const getStatusColor=status=>{switch(status.toLowerCase()){case'scheduled':return'bg-blue-100 text-blue-800';case'confirmed':return'bg-green-100 text-green-800';case'cancelled':return'bg-red-100 text-red-800';case'completed':return'bg-gray-100 text-gray-800';default:return'bg-gray-100 text-gray-800';}};/**\n   * Check if appointment can be cancelled\n   */const canCancelAppointment=appointment=>{const appointmentDate=new Date(appointment.appointment_time);const now=new Date();const hoursDifference=(appointmentDate.getTime()-now.getTime())/(1000*60*60);// Can cancel if appointment is in the future and status is scheduled or confirmed\nreturn hoursDifference>2&&(appointment.status==='SCHEDULED'||appointment.status==='CONFIRMED');};// Fetch appointments on component mount\nuseEffect(()=>{if(authState.isAuthenticated){fetchAppointments();}},[authState.isAuthenticated,showOnlyUpcoming]);// Show loading state\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/4 mb-4\"}),[1,2,3].map(i=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/4\"})]},i))]})});}// Show error state\nif(error){return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Error loading appointments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700 mt-1\",children:error})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:fetchAppointments,className:\"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-2 rounded-md text-sm font-medium transition-colors\",children:\"Try Again\"})})]})});}// Show empty state\nif(appointments.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:showOnlyUpcoming?'No upcoming appointments':'No appointments found'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:showOnlyUpcoming?'You don\\'t have any upcoming appointments scheduled.':'You haven\\'t scheduled any appointments yet.'})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:showOnlyUpcoming?'Upcoming Appointments':'My Appointments'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[appointments.length,\" appointment\",appointments.length!==1?'s':'',\" found\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchAppointments,className:\"bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm font-medium transition-colors\",children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:appointments.map(appointment=>{var _appointment$doctor,_appointment$doctor2;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Dr. \",((_appointment$doctor=appointment.doctor)===null||_appointment$doctor===void 0?void 0:_appointment$doctor.name)||'Unknown Doctor']}),((_appointment$doctor2=appointment.doctor)===null||_appointment$doctor2===void 0?void 0:_appointment$doctor2.specialty)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"\\u2022 \",appointment.doctor.specialty.name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\"})}),formatDate(appointment.appointment_time)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),formatTime(appointment.appointment_time)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),appointment.duration,\" minutes\"]})]}),appointment.patient_notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Notes:\"}),\" \",appointment.patient_notes]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(appointment.status)),children:appointment.status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"ID: \",appointment.id]})]})]}),canCancelAppointment(appointment)&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const reason=prompt('Please provide a reason for cancellation (optional):');if(reason!==null){// User didn't cancel the prompt\nhandleCancelAppointment(appointment.id,reason||undefined);}},disabled:cancellingId===appointment.id,className:\"bg-red-50 hover:bg-red-100 text-red-700 px-3 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:cancellingId===appointment.id?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-red-700\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Cancelling...\"]}):'Cancel Appointment'})})]})},appointment.id);})})]});};export default AppointmentList;","map":{"version":3,"names":["React","useState","useEffect","useAuth","cancelAppointment","apiClient","jsx","_jsx","jsxs","_jsxs","AppointmentList","_ref","className","showOnlyUpcoming","authState","appointments","setAppointments","loading","setLoading","error","setError","cancellingId","setCancellingId","fetchAppointments","endpoint","response","get","err","_err$response","errorMessage","message","console","handleCancelAppointment","appointmentId","reason","formatDate","dateString","date","Date","toLocaleDateString","weekday","year","month","day","formatTime","toLocaleTimeString","hour","minute","hour12","getStatusColor","status","toLowerCase","canCancelAppointment","appointment","appointmentDate","appointment_time","now","hoursDifference","getTime","isAuthenticated","concat","children","map","i","viewBox","fill","fillRule","d","clipRule","onClick","length","stroke","strokeLinecap","strokeLinejoin","strokeWidth","_appointment$doctor","_appointment$doctor2","doctor","name","specialty","duration","patient_notes","id","prompt","undefined","disabled","xmlns","cx","cy","r"],"sources":["C:/Users/HP/Smart-Doctor-Booking-Reminder-App/frontend/src/components/features/AppointmentList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { cancelAppointment } from '../../api/clients/appointmentApi';\nimport { Appointment } from '../../api/types/api';\nimport apiClient from '../../api/clients/apiClient';\n\ninterface AppointmentListProps {\n  className?: string;\n  showOnlyUpcoming?: boolean;\n}\n\n/**\n * AppointmentList component for displaying user's appointments with cancel functionality\n * \n * @param className - Additional CSS classes\n * @param showOnlyUpcoming - Whether to show only upcoming appointments (default: false)\n */\nexport const AppointmentList: React.FC<AppointmentListProps> = ({ \n  className = '',\n  showOnlyUpcoming = false \n}) => {\n  const { authState } = useAuth();\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [cancellingId, setCancellingId] = useState<number | null>(null);\n\n  /**\n   * Fetch appointments from the API\n   */\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const endpoint = showOnlyUpcoming \n        ? '/appointments/upcoming'\n        : '/appointments/patient';\n      \n      const response = await apiClient.get<{\n        success: boolean;\n        message: string;\n        appointments: Appointment[];\n        total: number;\n      }>(endpoint);\n      \n      setAppointments(response.appointments || []);\n    } catch (err: any) {\n      const errorMessage = err.response?.message || err.message || 'Failed to fetch appointments';\n      setError(errorMessage);\n      console.error('Error fetching appointments:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Handle appointment cancellation\n   */\n  const handleCancelAppointment = async (appointmentId: number, reason?: string) => {\n    try {\n      setCancellingId(appointmentId);\n      \n      await cancelAppointment(appointmentId, reason);\n      \n      // Remove the cancelled appointment from the list or refetch\n      await fetchAppointments();\n      \n    } catch (err: any) {\n      const errorMessage = err.message || 'Failed to cancel appointment';\n      setError(errorMessage);\n      console.error('Error cancelling appointment:', err);\n    } finally {\n      setCancellingId(null);\n    }\n  };\n\n  /**\n   * Format date for display\n   */\n  const formatDate = (dateString: string): string => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  /**\n   * Format time for display\n   */\n  const formatTime = (dateString: string): string => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  /**\n   * Get status badge color\n   */\n  const getStatusColor = (status: string): string => {\n    switch (status.toLowerCase()) {\n      case 'scheduled':\n        return 'bg-blue-100 text-blue-800';\n      case 'confirmed':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'completed':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  /**\n   * Check if appointment can be cancelled\n   */\n  const canCancelAppointment = (appointment: Appointment): boolean => {\n    const appointmentDate = new Date(appointment.appointment_time);\n    const now = new Date();\n    const hoursDifference = (appointmentDate.getTime() - now.getTime()) / (1000 * 60 * 60);\n    \n    // Can cancel if appointment is in the future and status is scheduled or confirmed\n    return hoursDifference > 2 &&\n           (appointment.status === 'SCHEDULED' || appointment.status === 'CONFIRMED');\n  };\n\n  // Fetch appointments on component mount\n  useEffect(() => {\n    if (authState.isAuthenticated) {\n      fetchAppointments();\n    }\n  }, [authState.isAuthenticated, showOnlyUpcoming]);\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <div className=\"animate-pulse\">\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 mb-4\"></div>\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"border rounded-lg p-4 space-y-3\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/4\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">Error loading appointments</h3>\n              <p className=\"text-sm text-red-700 mt-1\">{error}</p>\n            </div>\n          </div>\n          <div className=\"mt-4\">\n            <button\n              onClick={fetchAppointments}\n              className=\"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Show empty state\n  if (appointments.length === 0) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <div className=\"text-center py-8\">\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\" />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n            {showOnlyUpcoming ? 'No upcoming appointments' : 'No appointments found'}\n          </h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            {showOnlyUpcoming \n              ? 'You don\\'t have any upcoming appointments scheduled.'\n              : 'You haven\\'t scheduled any appointments yet.'}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            {showOnlyUpcoming ? 'Upcoming Appointments' : 'My Appointments'}\n          </h2>\n          <p className=\"text-sm text-gray-600\">\n            {appointments.length} appointment{appointments.length !== 1 ? 's' : ''} found\n          </p>\n        </div>\n        <button\n          onClick={fetchAppointments}\n          className=\"bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {/* Appointments List */}\n      <div className=\"space-y-3\">\n        {appointments.map((appointment) => (\n          <div\n            key={appointment.id}\n            className=\"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\"\n          >\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                {/* Doctor and Specialty */}\n                <div className=\"flex items-center space-x-2 mb-2\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    Dr. {appointment.doctor?.name || 'Unknown Doctor'}\n                  </h3>\n                  {appointment.doctor?.specialty && (\n                    <span className=\"text-sm text-gray-500\">\n                      • {appointment.doctor.specialty.name}\n                    </span>\n                  )}\n                </div>\n\n                {/* Date and Time */}\n                <div className=\"flex items-center space-x-4 text-sm text-gray-600 mb-2\">\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\" />\n                    </svg>\n                    {formatDate(appointment.appointment_time)}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    {formatTime(appointment.appointment_time)}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    {appointment.duration} minutes\n                  </div>\n                </div>\n\n                {/* Notes */}\n                {appointment.patient_notes && (\n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    <span className=\"font-medium\">Notes:</span> {appointment.patient_notes}\n                  </p>\n                )}\n\n                {/* Status */}\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(appointment.status)}`}>\n                    {appointment.status}\n                  </span>\n                  <span className=\"text-xs text-gray-500\">\n                    ID: {appointment.id}\n                  </span>\n                </div>\n              </div>\n\n              {/* Cancel Button */}\n              {canCancelAppointment(appointment) && (\n                <div className=\"ml-4\">\n                  <button\n                    onClick={() => {\n                      const reason = prompt('Please provide a reason for cancellation (optional):');\n                      if (reason !== null) { // User didn't cancel the prompt\n                        handleCancelAppointment(appointment.id, reason || undefined);\n                      }\n                    }}\n                    disabled={cancellingId === appointment.id}\n                    className=\"bg-red-50 hover:bg-red-100 text-red-700 px-3 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {cancellingId === appointment.id ? (\n                      <div className=\"flex items-center\">\n                        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-red-700\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        Cancelling...\n                      </div>\n                    ) : (\n                      'Cancel Appointment'\n                    )}\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default AppointmentList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}