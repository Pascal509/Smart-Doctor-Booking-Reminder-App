{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Smart-Doctor-Booking-Reminder-App\\\\frontend\\\\src\\\\components\\\\features\\\\AppointmentList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { cancelAppointment } from '../../api/clients/appointmentApi';\nimport apiClient from '../../api/clients/apiClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/**\n * AppointmentList component for displaying user's appointments with cancel functionality\n * \n * @param className - Additional CSS classes\n * @param showOnlyUpcoming - Whether to show only upcoming appointments (default: false)\n */\nexport const AppointmentList = ({\n  className = '',\n  showOnlyUpcoming = false\n}) => {\n  _s();\n  const {\n    authState\n  } = useAuth();\n  const [appointments, setAppointments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [cancellingId, setCancellingId] = useState(null);\n\n  /**\n   * Fetch appointments from the API\n   */\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const endpoint = showOnlyUpcoming ? '/appointments/upcoming' : '/appointments/patient';\n      const response = await apiClient.get(endpoint);\n      setAppointments(response.appointments || []);\n    } catch (err) {\n      var _err$response;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.message) || err.message || 'Failed to fetch appointments';\n      setError(errorMessage);\n      console.error('Error fetching appointments:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Handle appointment cancellation\n   */\n  const handleCancelAppointment = async (appointmentId, reason) => {\n    try {\n      setCancellingId(appointmentId);\n      await cancelAppointment(appointmentId, reason);\n\n      // Remove the cancelled appointment from the list or refetch\n      await fetchAppointments();\n    } catch (err) {\n      const errorMessage = err.message || 'Failed to cancel appointment';\n      setError(errorMessage);\n      console.error('Error cancelling appointment:', err);\n    } finally {\n      setCancellingId(null);\n    }\n  };\n\n  /**\n   * Format date for display\n   */\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  /**\n   * Format time for display\n   */\n  const formatTime = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  /**\n   * Get status badge color\n   */\n  const getStatusColor = status => {\n    switch (status.toLowerCase()) {\n      case 'scheduled':\n        return 'bg-blue-100 text-blue-800';\n      case 'confirmed':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'completed':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  /**\n   * Check if appointment can be cancelled\n   */\n  const canCancelAppointment = appointment => {\n    const appointmentDate = new Date(appointment.appointment_time);\n    const now = new Date();\n    const hoursDifference = (appointmentDate.getTime() - now.getTime()) / (1000 * 60 * 60);\n\n    // Can cancel if appointment is in the future and status is scheduled or confirmed\n    return hoursDifference > 2 && (appointment.status === 'SCHEDULED' || appointment.status === 'scheduled' || appointment.status === 'CONFIRMED' || appointment.status === 'confirmed');\n  };\n\n  // Fetch appointments on component mount\n  useEffect(() => {\n    if (authState.isAuthenticated) {\n      fetchAppointments();\n    }\n  }, [authState.isAuthenticated, showOnlyUpcoming]);\n\n  // Show loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `space-y-4 ${className}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-pulse\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-4 bg-gray-200 rounded w-1/4 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg p-4 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-4 bg-gray-200 rounded w-3/4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-4 bg-gray-200 rounded w-1/2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-4 bg-gray-200 rounded w-1/4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show error state\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `space-y-4 ${className}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-red-400\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: \"Error loading appointments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-700 mt-1\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchAppointments,\n            className: \"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-2 rounded-md text-sm font-medium transition-colors\",\n            children: \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show empty state\n  if (appointments.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `space-y-4 ${className}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"mx-auto h-12 w-12 text-gray-400\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: showOnlyUpcoming ? 'No upcoming appointments' : 'No appointments found'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: showOnlyUpcoming ? 'You don\\'t have any upcoming appointments scheduled.' : 'You haven\\'t scheduled any appointments yet.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `space-y-4 ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: showOnlyUpcoming ? 'Upcoming Appointments' : 'My Appointments'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [appointments.length, \" appointment\", appointments.length !== 1 ? 's' : '', \" found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchAppointments,\n        className: \"bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm font-medium transition-colors\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: appointments.map(appointment => {\n        var _appointment$doctor, _appointment$doctor2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: [\"Dr. \", ((_appointment$doctor = appointment.doctor) === null || _appointment$doctor === void 0 ? void 0 : _appointment$doctor.name) || 'Unknown Doctor']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), ((_appointment$doctor2 = appointment.doctor) === null || _appointment$doctor2 === void 0 ? void 0 : _appointment$doctor2.specialty) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"\\u2022 \", appointment.doctor.specialty.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 text-sm text-gray-600 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"h-4 w-4 mr-1\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 21\n                  }, this), formatDate(appointment.appointment_time)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"h-4 w-4 mr-1\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this), formatTime(appointment.appointment_time)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"h-4 w-4 mr-1\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this), appointment.duration, \" minutes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), appointment.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Notes:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this), \" \", appointment.notes]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(appointment.status)}`,\n                  children: appointment.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: [\"ID: \", appointment.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), canCancelAppointment(appointment) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  const reason = prompt('Please provide a reason for cancellation (optional):');\n                  if (reason !== null) {\n                    // User didn't cancel the prompt\n                    handleCancelAppointment(appointment.id, reason || undefined);\n                  }\n                },\n                disabled: cancellingId === appointment.id,\n                className: \"bg-red-50 hover:bg-red-100 text-red-700 px-3 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: cancellingId === appointment.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-red-700\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      className: \"opacity-25\",\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"opacity-75\",\n                      fill: \"currentColor\",\n                      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this), \"Cancelling...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this) : 'Cancel Appointment'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)\n        }, appointment.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n};\n_s(AppointmentList, \"lGNM9UenvAYnuGzRdgDALFLUFOU=\", false, function () {\n  return [useAuth];\n});\n_c = AppointmentList;\nexport default AppointmentList;\nvar _c;\n$RefreshReg$(_c, \"AppointmentList\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","cancelAppointment","apiClient","jsxDEV","_jsxDEV","AppointmentList","className","showOnlyUpcoming","_s","authState","appointments","setAppointments","loading","setLoading","error","setError","cancellingId","setCancellingId","fetchAppointments","endpoint","response","get","err","_err$response","errorMessage","message","console","handleCancelAppointment","appointmentId","reason","formatDate","dateString","date","Date","toLocaleDateString","weekday","year","month","day","formatTime","toLocaleTimeString","hour","minute","hour12","getStatusColor","status","toLowerCase","canCancelAppointment","appointment","appointmentDate","appointment_time","now","hoursDifference","getTime","isAuthenticated","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","viewBox","fill","fillRule","d","clipRule","onClick","length","stroke","strokeLinecap","strokeLinejoin","strokeWidth","_appointment$doctor","_appointment$doctor2","doctor","name","specialty","duration","notes","id","prompt","undefined","disabled","xmlns","cx","cy","r","_c","$RefreshReg$"],"sources":["C:/Users/HP/Smart-Doctor-Booking-Reminder-App/frontend/src/components/features/AppointmentList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { cancelAppointment } from '../../api/clients/appointmentApi';\nimport { Appointment } from '../../api/types/api';\nimport apiClient from '../../api/clients/apiClient';\n\ninterface AppointmentListProps {\n  className?: string;\n  showOnlyUpcoming?: boolean;\n}\n\n/**\n * AppointmentList component for displaying user's appointments with cancel functionality\n * \n * @param className - Additional CSS classes\n * @param showOnlyUpcoming - Whether to show only upcoming appointments (default: false)\n */\nexport const AppointmentList: React.FC<AppointmentListProps> = ({ \n  className = '',\n  showOnlyUpcoming = false \n}) => {\n  const { authState } = useAuth();\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [cancellingId, setCancellingId] = useState<number | null>(null);\n\n  /**\n   * Fetch appointments from the API\n   */\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const endpoint = showOnlyUpcoming \n        ? '/appointments/upcoming'\n        : '/appointments/patient';\n      \n      const response = await apiClient.get<{\n        success: boolean;\n        message: string;\n        appointments: Appointment[];\n        total: number;\n      }>(endpoint);\n      \n      setAppointments(response.appointments || []);\n    } catch (err: any) {\n      const errorMessage = err.response?.message || err.message || 'Failed to fetch appointments';\n      setError(errorMessage);\n      console.error('Error fetching appointments:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Handle appointment cancellation\n   */\n  const handleCancelAppointment = async (appointmentId: number, reason?: string) => {\n    try {\n      setCancellingId(appointmentId);\n      \n      await cancelAppointment(appointmentId, reason);\n      \n      // Remove the cancelled appointment from the list or refetch\n      await fetchAppointments();\n      \n    } catch (err: any) {\n      const errorMessage = err.message || 'Failed to cancel appointment';\n      setError(errorMessage);\n      console.error('Error cancelling appointment:', err);\n    } finally {\n      setCancellingId(null);\n    }\n  };\n\n  /**\n   * Format date for display\n   */\n  const formatDate = (dateString: string): string => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  /**\n   * Format time for display\n   */\n  const formatTime = (dateString: string): string => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  /**\n   * Get status badge color\n   */\n  const getStatusColor = (status: string): string => {\n    switch (status.toLowerCase()) {\n      case 'scheduled':\n        return 'bg-blue-100 text-blue-800';\n      case 'confirmed':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'completed':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  /**\n   * Check if appointment can be cancelled\n   */\n  const canCancelAppointment = (appointment: Appointment): boolean => {\n    const appointmentDate = new Date(appointment.appointment_time);\n    const now = new Date();\n    const hoursDifference = (appointmentDate.getTime() - now.getTime()) / (1000 * 60 * 60);\n    \n    // Can cancel if appointment is in the future and status is scheduled or confirmed\n    return hoursDifference > 2 && \n           (appointment.status === 'SCHEDULED' || appointment.status === 'scheduled' ||\n            appointment.status === 'CONFIRMED' || appointment.status === 'confirmed');\n  };\n\n  // Fetch appointments on component mount\n  useEffect(() => {\n    if (authState.isAuthenticated) {\n      fetchAppointments();\n    }\n  }, [authState.isAuthenticated, showOnlyUpcoming]);\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <div className=\"animate-pulse\">\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 mb-4\"></div>\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"border rounded-lg p-4 space-y-3\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/4\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">Error loading appointments</h3>\n              <p className=\"text-sm text-red-700 mt-1\">{error}</p>\n            </div>\n          </div>\n          <div className=\"mt-4\">\n            <button\n              onClick={fetchAppointments}\n              className=\"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Show empty state\n  if (appointments.length === 0) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <div className=\"text-center py-8\">\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\" />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n            {showOnlyUpcoming ? 'No upcoming appointments' : 'No appointments found'}\n          </h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            {showOnlyUpcoming \n              ? 'You don\\'t have any upcoming appointments scheduled.'\n              : 'You haven\\'t scheduled any appointments yet.'}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            {showOnlyUpcoming ? 'Upcoming Appointments' : 'My Appointments'}\n          </h2>\n          <p className=\"text-sm text-gray-600\">\n            {appointments.length} appointment{appointments.length !== 1 ? 's' : ''} found\n          </p>\n        </div>\n        <button\n          onClick={fetchAppointments}\n          className=\"bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {/* Appointments List */}\n      <div className=\"space-y-3\">\n        {appointments.map((appointment) => (\n          <div\n            key={appointment.id}\n            className=\"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\"\n          >\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                {/* Doctor and Specialty */}\n                <div className=\"flex items-center space-x-2 mb-2\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    Dr. {appointment.doctor?.name || 'Unknown Doctor'}\n                  </h3>\n                  {appointment.doctor?.specialty && (\n                    <span className=\"text-sm text-gray-500\">\n                      â€¢ {appointment.doctor.specialty.name}\n                    </span>\n                  )}\n                </div>\n\n                {/* Date and Time */}\n                <div className=\"flex items-center space-x-4 text-sm text-gray-600 mb-2\">\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4h3a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2h3z\" />\n                    </svg>\n                    {formatDate(appointment.appointment_time)}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    {formatTime(appointment.appointment_time)}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    {appointment.duration} minutes\n                  </div>\n                </div>\n\n                {/* Notes */}\n                {appointment.notes && (\n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    <span className=\"font-medium\">Notes:</span> {appointment.notes}\n                  </p>\n                )}\n\n                {/* Status */}\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(appointment.status)}`}>\n                    {appointment.status}\n                  </span>\n                  <span className=\"text-xs text-gray-500\">\n                    ID: {appointment.id}\n                  </span>\n                </div>\n              </div>\n\n              {/* Cancel Button */}\n              {canCancelAppointment(appointment) && (\n                <div className=\"ml-4\">\n                  <button\n                    onClick={() => {\n                      const reason = prompt('Please provide a reason for cancellation (optional):');\n                      if (reason !== null) { // User didn't cancel the prompt\n                        handleCancelAppointment(appointment.id, reason || undefined);\n                      }\n                    }}\n                    disabled={cancellingId === appointment.id}\n                    className=\"bg-red-50 hover:bg-red-100 text-red-700 px-3 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {cancellingId === appointment.id ? (\n                      <div className=\"flex items-center\">\n                        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-red-700\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        Cancelling...\n                      </div>\n                    ) : (\n                      'Cancel Appointment'\n                    )}\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default AppointmentList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}